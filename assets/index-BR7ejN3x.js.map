{"version":3,"file":"index-BR7ejN3x.js","sources":["../../src/js/parse.js","../../src/js/preview.js","../../src/js/sidebar.js","../../src/js/storage.js","../../src/js/state.js","../../src/js/editor.js","../../src/js/theme.js","../../src/js/toolbar.js","../../src/js/view.js","../../src/js/toast.js","../../src/js/modal.js","../../src/js/action.js","../../src/js/main.js"],"sourcesContent":["/* Heading */\nfunction parseHeadings(text) {\n  const headingRegex = /^(#+)\\s*(.+)/gm;\n\n  return text.replace(headingRegex, function (match, hashes, content) {\n    const level = Math.min(hashes.length, 6);\n\n    return `<h${level}>${content}</h${level}>`;\n  });\n}\n\n/* Bold */\n\nfunction parseBold(text) {\n  const boldRegex = /\\*\\*(.+?)\\*\\*/g;\n  return text.replace(boldRegex, function (fullMatch, content) {\n    return `<strong>${content}</strong>`;\n  });\n}\n\n/* italic */\n\nfunction parseItalic(text) {\n  const boldRegex = /(?<!\\*)\\*(?!\\*)(.+?)(?<!\\*)\\*(?!\\*)/g;\n  return text.replace(boldRegex, function (fullMatch, content) {\n    return `<em>${content}</em>`;\n  });\n}\n\n/* li */\n\nfunction parseLi(text) {\n  text = text.replace(/^-(?!-)\\s*(.+)/gm, function (fullMatch, content) {\n    return `<li data-list=\"ul\">${content}</li>`;\n  });\n\n  text = text.replace(/(<li data-list=\"ul\">[\\s\\S]+?<\\/li>\\s*)+/g, function (match) {\n    const hasTrailingNewline = /\\n\\s*$/.test(match);\n    const listItems = match.trimEnd();\n    return hasTrailingNewline ? `<ul>${listItems}</ul>\\n` : `<ul>${listItems}</ul>`;\n  });\n\n  text = text.replace(/ data-list=\"ul\"/g, \"\");\n\n  return text;\n}\n\n/* ol */\n\nfunction parseOL(text) {\n  text = text.replace(/^\\d+\\.\\s*(.+)/gm, function (fullMatch, content) {\n    return `<li data-list=\"ol\">${content}</li>`;\n  });\n\n  text = text.replace(/(<li data-list=\"ol\">[\\s\\S]+?<\\/li>\\s*)+/g, function (match) {\n    const hasTrailingNewline = /\\n\\s*$/.test(match);\n    const listItems = match.trimEnd();\n    return hasTrailingNewline ? `<ol>${listItems}</ol>\\n` : `<ol>${listItems}</ol>`;\n  });\n\n  text = text.replace(/ data-list=\"ol\"/g, \"\");\n\n  return text;\n}\n\n/* code */\n\nfunction escapeHtml(value) {\n  return value\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#39;\");\n}\n\nfunction extractCodeSegments(text) {\n  const tokens = [];\n\n  const tripleParsed = text.replace(/```([\\s\\S]+?)```/g, function (match, content) {\n    const escaped = escapeHtml(content);\n    const html = `<pre><code>${escaped}</code></pre>`;\n    const token = `@@CODE_TOKEN_${tokens.length}@@`;\n    tokens.push(html);\n    return token;\n  });\n\n  const parsed = tripleParsed.replace(/`([\\s\\S]+?)`/g, function (match, content) {\n    const escaped = escapeHtml(content);\n    const html = `<code>${escaped}</code>`;\n    const token = `@@CODE_TOKEN_${tokens.length}@@`;\n    tokens.push(html);\n    return token;\n  });\n\n  return { parsed, tokens };\n}\n\nfunction restoreCodeSegments(text, tokens) {\n  return text.replace(/@@CODE_TOKEN_(\\d+)@@/g, function (match, index) {\n    return tokens[Number(index)] ?? match;\n  });\n}\n\n/* blockquote */\nfunction parseBlockquote(text) {\n  return text.replace(/^>\\s*(.+)/gm, function (match, content) {\n    return `<blockquote>${content}</blockquote>`;\n  });\n}\n\n/* links */\n\nfunction parseLink(text) {\n  return text.replace(/\\[(.+?)\\]\\((.+?)\\)/g, function (fullMatch, content1, url) {\n    return `<a href=\"${url}\" target=\"_blank\">${content1}</a>`;\n  });\n}\n\n/* image */\n\nfunction parseImage(text) {\n  return text.replace(/!\\[(.+?)\\]\\((.+?)\\)/g, function (fullMatch, content1, url) {\n    return `<img src=\"${url}\" alt=\"${content1}\">`;\n  });\n}\n\n/* hr */\n\nfunction parseHorizontalRule(text) {\n  return text.replace(/^-{3,}$/gm, function (match) {\n    return `<hr>`;\n  });\n}\n\n/* p */\n\nfunction parseParagraph(text) {\n  /* p */\n\n  return text\n    .split(\"\\n\")\n    .map(function (line) {\n      if (line === \"\") return line;\n      if (/^\\s*@@CODE_TOKEN_\\d+@@\\s*$/.test(line)) return line;\n      if (line.startsWith(\"<\")) return line;\n      return `<p>${line}</p>`;\n    })\n    .join(\"\\n\");\n}\n\nexport function parseMarkdown(text) {\n  const { parsed, tokens } = extractCodeSegments(text);\n\n  let result = escapeHtml(parsed);\n  result = parseHeadings(result);\n  result = parseBold(result);\n  result = parseItalic(result);\n  result = parseLi(result);\n  result = parseOL(result);\n  result = parseBlockquote(result);\n  result = parseImage(result);\n  result = parseLink(result);\n  result = parseHorizontalRule(result);\n  result = parseParagraph(result);\n  result = restoreCodeSegments(result, tokens);\n  return result;\n}\n","export function updatePreview(html) {\r\n  const preview = document.getElementById(\"preview\");\r\n  preview.innerHTML = html;\r\n}\r\n","import { appState, updateSidebar, loadDocument } from \"./state.js\";\r\n\r\nexport function initSidebar() {\r\n  const sidebar = document.querySelector(\".sidebar\");\r\n  const menuBtn = document.querySelector(\".app-header__menu-button\");\r\n\r\n  if (!sidebar || !menuBtn) return;\r\n\r\n  function toggleSidebar() {\r\n    const isOpen = updateSidebar(); // ← Gets new value back\r\n    sidebar.classList.toggle(\"sidebar--open\", isOpen);\r\n  }\r\n\r\n  menuBtn.addEventListener(\"click\", toggleSidebar);\r\n\r\n  const documentItems = document.getElementById(\"document-items\");\r\n\r\n  documentItems.addEventListener(\"click\", (event) => {\r\n    const btn = event.target.closest(\".document-item\");\r\n\r\n    if (!btn) return;\r\n\r\n    const id = btn.id;\r\n\r\n    const doc = appState.documents.find((d) => {\r\n      return d.id === id;\r\n    });\r\n    loadDocument(doc);\r\n    renderSidebar();\r\n  });\r\n}\r\n\r\nexport function renderSidebar() {\r\n  const documentItems = document.getElementById(\"document-items\");\r\n  if (!documentItems) return;\r\n\r\n  const documents = appState.documents; // [array of all document objects]\r\n\r\n  const documenItems = documents.map((document) => {\r\n    const isActive = appState.currentDocumentId === document.id;\r\n    const updatedValue = (document.updatedAt || \"\").replace(\" \", \" • \");\r\n    const name = document.name || \"untitled.md\";\r\n\r\n    const html = `<button class=\"document-item${isActive ? \" document-item--active\" : \"\"}\" type=\"button\" id =\"${document.id}\" data-document-name =\"${name}\">\r\n                <img class=\"document-item-icon\" src=\"${import.meta.env.BASE_URL}assets/icon-document.svg\" alt=\"\" />\r\n                <div class=\"document-info\">\r\n                  <p class=\"document-date\">\r\n                    <span class=\"document-date-label\">Updated</span>\r\n                    <span class=\"document-date-value\">${updatedValue}</span>\r\n                  </p>\r\n                  <p class=\"document-name\">${name}</p>\r\n                </div>\r\n              </button>`;\r\n\r\n    return html;\r\n  });\r\n\r\n  documentItems.innerHTML = documenItems.join(\"\");\r\n}\r\n","import { appState } from \"./state.js\";\r\n\r\nexport function saveToStorage() {\r\n  localStorage.setItem(\r\n    \"markdown-editor\",\r\n    JSON.stringify({\r\n      documents: appState.documents,\r\n      currentDocumentId: appState.currentDocumentId,\r\n    }),\r\n  );\r\n}\r\n\r\nexport function loadFromStorage() {\r\n  const data = JSON.parse(localStorage.getItem(\"markdown-editor\"));\r\n  return data;\r\n}\r\n","import { renderSidebar } from \"./sidebar.js\";\nimport { updatePreview } from \"./preview.js\";\nimport { parseMarkdown } from \"./parse.js\";\nimport { saveToStorage } from \"./storage.js\";\n\r\nexport const appState = {\r\n  theme: \"light\",\r\n  sidebarOpen: false,\r\n  display: \"split\",\r\n  currentDocumentId: \"doc_1\",\r\n  documents: [\r\n    {\r\n      id: \"doc_1\",\r\n      name: \"welcome.md\",\r\n      content: \"\",\r\n      updatedAt:\r\n        new Date().toLocaleDateString(\"en-GB\") +\r\n        \" \" +\r\n        new Date().toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\" }),\r\n      isDirty: false,\r\n    },\r\n  ],\r\n};\r\n\r\nexport function updateTheme(theme) {\r\n  if (appState.theme === theme) return;\r\n  appState.theme = theme;\r\n  return appState.theme;\r\n}\r\n\r\nexport function updateSidebar() {\r\n  appState.sidebarOpen = !appState.sidebarOpen;\r\n  return appState.sidebarOpen;\r\n}\r\n\r\nexport function updateDisplay(display) {\r\n  appState.display = display;\r\n}\r\n\r\nexport function saveDocument() {\n  const docName = document.getElementById(\"document-name\").value;\r\n  const content = document.getElementById(\"textarea\").value;\r\n  const doc = appState.documents.find((d) => d.id === appState.currentDocumentId);\r\n\r\n  if (doc) {\r\n    doc.name = docName;\r\n    doc.content = content;\r\n    doc.updatedAt =\r\n      new Date().toLocaleDateString(\"en-GB\") +\r\n      \" \" +\r\n      new Date().toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\" });\r\n    doc.isDirty = false;\r\n  } else {\r\n    const newDoc = {\r\n      id: crypto.randomUUID(),\r\n      name: docName,\r\n      content: content,\r\n      updatedAt:\r\n        new Date().toLocaleDateString(\"en-GB\") +\r\n        \" \" +\r\n        new Date().toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\" }),\r\n      isDirty: false,\r\n    };\r\n    appState.currentDocumentId = newDoc.id;\r\n    appState.documents.push(newDoc);\r\n  }\n\n  saveToStorage();\n  renderSidebar();\n}\n\r\nexport function newDocument() {\n  const documentName = document.getElementById(\"document-name\");\r\n  const newDocument = {\r\n    id: crypto.randomUUID(),\r\n    name: \"\",\r\n    content: \"\",\r\n    updatedAt:\r\n      new Date().toLocaleDateString(\"en-GB\") +\r\n      \" \" +\r\n      new Date().toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\" }),\r\n    isDirty: false,\r\n  };\r\n\r\n  const textarea = document.getElementById(\"textarea\");\r\n  textarea.value = \"\";\r\n  appState.currentDocumentId = newDocument.id;\r\n  appState.documents.push(newDocument);\n  documentName.value = \"\";\n  updatePreview(parseMarkdown(\"\"));\n  saveToStorage();\n  renderSidebar();\n}\n\r\nexport function deleteDocument() {\n  appState.documents = appState.documents.filter((d) => d.id !== appState.currentDocumentId);\n\r\n  if (appState.documents.length > 0) {\r\n    loadDocument(appState.documents[0]);\r\n  } else {\n    appState.currentDocumentId = null;\n    document.getElementById(\"textarea\").value = \"\";\n    document.getElementById(\"document-name\").value = \"\";\r\n    updatePreview(parseMarkdown(\"\"));\r\n  }\n\n  saveToStorage();\n  renderSidebar();\n}\n\r\nexport function loadDocument(doc) {\r\n  const textarea = document.getElementById(\"textarea\");\r\n  const docName = document.getElementById(\"document-name\");\r\n  textarea.value = doc.content;\r\n  docName.value = doc.name;\r\n  appState.currentDocumentId = doc.id;\r\n  updatePreview(parseMarkdown(doc.content));\r\n}\r\n","import { parseMarkdown } from \"./parse.js\";\nimport { updatePreview } from \"./preview.js\";\nimport { appState } from \"./state.js\";\n\nexport async function initTextarea() {\n  const textarea = document.getElementById(\"textarea\");\n  const documentNameInput = document.getElementById(\"document-name\");\n\n  if (!textarea) return;\n\n  async function getPlaceholder() {\n    try {\n      const response = await fetch(`${import.meta.env.BASE_URL}data.json`);\n      const data = await response.json();\n      return data?.[1]?.content ?? \"\";\n    } catch (error) {\n      console.error(error);\n      return \"\";\n    }\n  }\n\n  function getCurrentDocument() {\n    return (\n      appState.documents.find((document) => document.id === appState.currentDocumentId) ??\n      appState.documents[0] ??\n      null\n    );\n  }\n\n  const currentDocument = getCurrentDocument();\n  if (!currentDocument) return;\n\n  let initialContent = currentDocument.content ?? \"\";\n  if (!initialContent) {\n    initialContent = await getPlaceholder();\n    currentDocument.content = initialContent;\n  }\n\n  textarea.value = initialContent;\n  if (documentNameInput) {\n    documentNameInput.value = currentDocument.name ?? \"\";\n  }\n  updatePreview(parseMarkdown(initialContent));\n\n  function markCurrentDocumentDirty() {\n    const activeDocument = getCurrentDocument();\n    if (!activeDocument) return;\n    activeDocument.isDirty = true;\n  }\n\n  textarea.addEventListener(\"input\", () => {\n    const text = textarea.value;\n    const html = parseMarkdown(text);\n    updatePreview(html);\n\n    const activeDocument = getCurrentDocument();\n    if (activeDocument) {\n      activeDocument.content = text;\n      markCurrentDocumentDirty();\n    }\n  });\n\n  if (documentNameInput) {\n    documentNameInput.addEventListener(\"input\", () => {\n      const activeDocument = getCurrentDocument();\n      if (!activeDocument) return;\n      activeDocument.name = documentNameInput.value;\n      markCurrentDocumentDirty();\n    });\n  }\n\n  window.addEventListener(\"beforeunload\", (event) => {\n    const hasUnsavedChanges = appState.documents.some((document) => document.isDirty);\n    if (!hasUnsavedChanges) return;\n    event.preventDefault();\n    event.returnValue = \"\";\n  });\n}\n","import { updateTheme } from \"./state.js\";\n\nexport function initTheme() {\n  const themeInput = document.querySelector(\".theme-toggle-input\");\n  if (!themeInput) return;\n\n  const root = document.documentElement;\n  let transitionTimeoutId;\n\n  function applyTheme(theme, animate = false) {\n    if (animate) {\n      root.classList.add(\"theme-switching\");\n    }\n\n    if (theme === \"light\") {\n      root.setAttribute(\"data-theme\", \"light\");\n    } else {\n      root.removeAttribute(\"data-theme\");\n    }\n\n    if (animate) {\n      window.clearTimeout(transitionTimeoutId);\n      transitionTimeoutId = window.setTimeout(() => {\n        root.classList.remove(\"theme-switching\");\n      }, 220);\n    }\n  }\n\n  const initialTheme = themeInput.checked ? \"light\" : \"dark\";\n  updateTheme(initialTheme);\n  applyTheme(initialTheme);\n\n  themeInput.addEventListener(\"change\", () => {\n    const nextTheme = themeInput.checked ? \"light\" : \"dark\";\n    updateTheme(nextTheme);\n    applyTheme(nextTheme, true);\n  });\n}\r\n","import { parseMarkdown } from \"./parse.js\";\nimport { updatePreview } from \"./preview.js\";\r\n\r\nfunction insertMarkDown(textarea, action) {\r\n  const before = textarea.value.substring(0, textarea.selectionStart);\r\n  const selected = textarea.value.substring(\r\n    textarea.selectionStart,\r\n    textarea.selectionEnd,\r\n  );\r\n  const after = textarea.value.substring(textarea.selectionEnd);\r\n\r\n  const actions = {\r\n    bold: { type: \"inline\", prefix: \"**\", suffix: \"**\", placeholder: \"bold text\" },\r\n    italic: { type: \"inline\", prefix: \"*\", suffix: \"*\", placeholder: \"italic text\" },\r\n    code: { type: \"inline\", prefix: \"`\", suffix: \"`\", placeholder: \"code\" },\r\n    strikethrough: {\r\n      type: \"inline\",\r\n      prefix: \"~~\",\r\n      suffix: \"~~\",\r\n      placeholder: \"struck text\",\r\n    },\r\n    link: { type: \"inline\", prefix: \"[\", suffix: \"](url)\", placeholder: \"link text\" },\r\n    image: { type: \"inline\", prefix: \"![\", suffix: \"](url)\", placeholder: \"alt text\" },\r\n    h1: { type: \"block\", prefix: \"# \", placeholder: \"Heading 1\" },\r\n    h2: { type: \"block\", prefix: \"## \", placeholder: \"Heading 2\" },\r\n    h3: { type: \"block\", prefix: \"### \", placeholder: \"Heading 3\" },\r\n    quote: { type: \"block\", prefix: \"> \", placeholder: \"Blockquote\" },\r\n    ul: { type: \"block\", prefix: \"- \", placeholder: \"List item\" },\r\n    ol: { type: \"block\", prefix: \"1. \", placeholder: \"List item\" },\r\n    hr: { type: \"block\", prefix: \"\\n---\\n\", placeholder: \"\" },\r\n  };\r\n\r\n  const selectedAction = actions[action];\r\n  if (!selectedAction) return;\r\n\r\n  const text = selected ? selected : selectedAction.placeholder;\r\n\r\n  if (selectedAction.type === \"inline\") {\r\n    const wrappedText = selectedAction.prefix + text + selectedAction.suffix;\r\n    textarea.value = before + wrappedText + after;\r\n  } else {\r\n    const wrappedText = selectedAction.prefix + text;\r\n    textarea.value = before + wrappedText + after;\r\n  }\r\n\r\n  const html = parseMarkdown(textarea.value);\r\n  updatePreview(html);\r\n}\r\n\r\nexport function initToolbar() {\r\n  const textarea = document.getElementById(\"textarea\");\r\n  const toolbarBtns = document.querySelectorAll(\".toolbar-btn\");\r\n\r\n  toolbarBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      insertMarkDown(textarea, btn.dataset.action);\r\n    });\r\n  });\r\n}\r\n","import { appState, updateDisplay } from \"./state.js\";\r\n\r\nfunction renderState(display) {\r\n  const textareaContainer = document.querySelector(\".textarea-container\");\r\n  const previewContainer = document.querySelector(\".preview-container\");\r\n\r\n  if (!display) return;\r\n  // reset everything first\r\n  textareaContainer.classList.add(\"hidden\");\r\n  previewContainer.classList.add(\"hidden\");\r\n\r\n  // then show only what the current mode needs\r\n  if (display === \"editor\") {\r\n    textareaContainer.classList.remove(\"hidden\");\r\n  } else if (display === \"preview\") {\r\n    previewContainer.classList.remove(\"hidden\");\r\n  } else {\r\n    textareaContainer.classList.remove(\"hidden\");\r\n    previewContainer.classList.remove(\"hidden\");\r\n  }\r\n}\r\n\r\nexport function initView() {\r\n  const viewBtns = document.querySelectorAll(\"[data-view-control]\");\r\n  const toggleBtns = document.querySelectorAll(\"[data-view-toggle]\");\r\n\r\n  viewBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      const mode = btn.dataset.action;\r\n      updateDisplay(mode);\r\n      renderState(mode);\r\n      viewBtns.forEach((b) => b.classList.remove(\"quick-btn--active\"));\r\n      btn.classList.add(\"quick-btn--active\");\r\n    });\r\n  });\r\n\r\n  toggleBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      const currentMode = appState.display;\r\n      const targetPanel = btn.dataset.action;\r\n      const newMode = currentMode === \"split\" ? targetPanel : \"split\";\r\n      updateDisplay(newMode);\r\n      renderState(newMode);\r\n    });\r\n  });\r\n}\r\n","export function showToast(title, message) {\r\n  const html = /* html */ `\r\n     <li\r\n          role=\"status\"\r\n          aria-live=\"off\"\r\n          aria-atomic=\"true\"\r\n          tabindex=\"0\"\r\n          data-state=\"open\"\r\n          data-swipe-direction=\"right\"\r\n          class=\"app-toast\"\r\n          data-radix-collection-item=\"\"\r\n        >\r\n          <div class=\"app-toast__body\">\r\n            <p class=\"app-toast__title\">${title} !</p>\r\n            <p class=\"app-toast__message\">${message}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            class=\"app-toast__close\"\r\n            toast-close=\"\"\r\n            data-radix-toast-announce-exclude=\"\"\r\n            aria-label=\"Dismiss notification\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n              class=\"app-toast__close-icon\"\r\n            >\r\n              <path d=\"M18 6 6 18\"></path>\r\n              <path d=\"m6 6 12 12\"></path>\r\n            </svg>\r\n          </button>\r\n        </li>`;\r\n\r\n  const stack = document.querySelector(\".app-toast-stack\");\r\n  stack.insertAdjacentHTML(\"beforeend\", html);\r\n\r\n  const toast = stack.lastElementChild;\r\n\r\n  toast.querySelector(\".app-toast__close\").addEventListener(\"click\", () => {\r\n    toast.classList.add(\"app-toast--exit\");\r\n    toast.addEventListener(\"animationend\", () => toast.remove());\r\n  });\r\n\r\n  setTimeout(() => {\r\n    toast.classList.add(\"app-toast--exit\");\r\n    toast.addEventListener(\"animationend\", () => toast.remove());\r\n  }, 3000);\r\n}\r\n","import { appState } from \"./state.js\";\n\nexport function openModal(id) {\n  const modal = document.getElementById(id);\n\n  const doc = appState.documents.find((d) => d.id === appState.currentDocumentId);\n\n  const nameSpan = document.getElementById(\"modal-doc-name\");\n\n  if (nameSpan && doc) {\n    nameSpan.textContent = doc.name || \"untitled.md\";\n  }\n\n  if (modal && typeof modal.showModal === \"function\") {\n    modal.showModal();\n  }\n}\n\nexport function closeModal(id) {\n  const element = document.getElementById(id);\n  if (!element) return;\n\n  const modal = element.tagName === \"DIALOG\" ? element : element.closest(\"dialog\");\n  if (modal && typeof modal.close === \"function\") {\n    modal.close();\n  }\n}\n","import { showToast } from \"./toast.js\";\r\nimport { saveDocument, newDocument, deleteDocument } from \"./state.js\";\r\nimport { openModal, closeModal } from \"./modal.js\";\r\n\r\nasync function copyMarkdown() {\r\n  const text = document.getElementById(\"textarea\").value;\r\n\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    showToast(\"Copied\", \"Markdown copied to clipboard !\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function initActions() {\r\n  const actionBtns = document.querySelectorAll(\"[data-quick-action], .modal [data-action]\");\r\n\r\n  actionBtns.forEach((btn) => {\r\n    const action = btn.dataset.quickAction || btn.dataset.action;\r\n    btn.addEventListener(\"click\", () => {\r\n      if (action === \"copy\") {\r\n        copyMarkdown();\r\n      }\r\n\r\n      if (action === \"download\") {\r\n        downloadMarkdown();\r\n      }\r\n\r\n      if (action === \"save\") {\r\n        saveDocument();\r\n        showToast(\"Saved\", \"File has been saved !\");\r\n      }\r\n\r\n      if (action === \"new-document\") {\r\n        newDocument();\r\n        showToast(\"New Document\", \"New document created !\");\r\n      }\r\n\r\n      if (action === \"delete\") {\r\n        openModal(\"delete-modal\");\r\n      }\r\n\r\n      if (action === \"cancel\") {\r\n        closeModal(\"cancel\");\r\n      }\r\n\r\n      if (action === \"delete-document\") {\n        deleteDocument();\n        showToast(\"Deleted\", \"Document has been deleted !\");\n        closeModal(\"delete-modal\");\n      }\n    });\n  });\n}\n\r\nfunction downloadMarkdown() {\r\n  const content = document.getElementById(\"textarea\").value;\r\n  const documentName = document.getElementById(\"document-name\").value;\r\n\r\n  const blob = new Blob([content], { type: \"text/markdown\" });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = documentName;\r\n  a.click();\r\n  showToast(\"Downloaded\", \"Markdown file saved !\");\r\n  URL.revokeObjectURL(url);\r\n}\r\n","import { initTextarea } from \"./editor.js\";\nimport { initSidebar } from \"./sidebar.js\";\nimport { initTheme } from \"./theme.js\";\nimport { initToolbar } from \"./toolbar.js\";\nimport { initView } from \"./view.js\";\nimport { initActions } from \"./action.js\";\nimport { renderSidebar } from \"./sidebar.js\";\nimport { loadFromStorage } from \"./storage.js\";\nimport { appState } from \"./state.js\";\n// Get the menu button\n\nfunction restoreState() {\n  const data = loadFromStorage();\n  if (!data) return;\n\n  appState.currentDocumentId = data.currentDocumentId;\n  appState.documents = data.documents;\n}\n\nrestoreState();\n\nfunction initQuickActionsMode() {\n  const quickActions = document.querySelector(\".app-header__quick-actions\");\n  if (!quickActions) return;\n\n  const tabletAndUp = window.matchMedia(\"(min-width: 768px)\");\n\n  const syncQuickActionsState = () => {\n    if (tabletAndUp.matches) {\n      quickActions.setAttribute(\"open\", \"\");\n      return;\n    }\n\n    quickActions.removeAttribute(\"open\");\n  };\n\n  syncQuickActionsState();\n\n  if (typeof tabletAndUp.addEventListener === \"function\") {\n    tabletAndUp.addEventListener(\"change\", syncQuickActionsState);\n  } else {\n    tabletAndUp.addListener(syncQuickActionsState);\n  }\n}\n\ninitSidebar();\ninitTheme();\ninitTextarea();\ninitQuickActionsMode();\ninitToolbar();\ninitView();\ninitActions();\nrenderSidebar();\n"],"names":["parseHeadings","text","headingRegex","match","hashes","content","level","parseBold","boldRegex","fullMatch","parseItalic","parseLi","hasTrailingNewline","listItems","parseOL","escapeHtml","value","extractCodeSegments","tokens","html","token","restoreCodeSegments","index","parseBlockquote","parseLink","content1","url","parseImage","parseHorizontalRule","parseParagraph","line","parseMarkdown","parsed","result","updatePreview","preview","initSidebar","sidebar","menuBtn","toggleSidebar","isOpen","updateSidebar","event","btn","id","doc","appState","loadDocument","renderSidebar","documentItems","documenItems","document","isActive","updatedValue","name","saveToStorage","loadFromStorage","updateTheme","theme","updateDisplay","display","saveDocument","docName","d","newDoc","newDocument","documentName","textarea","deleteDocument","initTextarea","documentNameInput","getPlaceholder","error","getCurrentDocument","currentDocument","initialContent","markCurrentDocumentDirty","activeDocument","initTheme","themeInput","root","transitionTimeoutId","applyTheme","animate","initialTheme","nextTheme","insertMarkDown","action","before","selected","after","selectedAction","wrappedText","initToolbar","renderState","textareaContainer","previewContainer","initView","viewBtns","toggleBtns","mode","b","currentMode","targetPanel","newMode","showToast","title","message","stack","toast","openModal","modal","nameSpan","closeModal","element","copyMarkdown","initActions","downloadMarkdown","blob","a","restoreState","data","initQuickActionsMode","quickActions","tabletAndUp","syncQuickActionsState"],"mappings":"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"}