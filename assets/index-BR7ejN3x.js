(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(c){if(c.ep)return;c.ep=!0;const a=n(c);fetch(c.href,a)}})();function E(e){const t=/^(#+)\s*(.+)/gm;return e.replace(t,function(n,o,c){const a=Math.min(o.length,6);return`<h${a}>${c}</h${a}>`})}function k(e){const t=/\*\*(.+?)\*\*/g;return e.replace(t,function(n,o){return`<strong>${o}</strong>`})}function L(e){const t=new RegExp("(?<!\\*)\\*(?!\\*)(.+?)(?<!\\*)\\*(?!\\*)","g");return e.replace(t,function(n,o){return`<em>${o}</em>`})}function I(e){return e=e.replace(/^-(?!-)\s*(.+)/gm,function(t,n){return`<li data-list="ul">${n}</li>`}),e=e.replace(/(<li data-list="ul">[\s\S]+?<\/li>\s*)+/g,function(t){const n=/\n\s*$/.test(t),o=t.trimEnd();return n?`<ul>${o}</ul>
`:`<ul>${o}</ul>`}),e=e.replace(/ data-list="ul"/g,""),e}function S(e){return e=e.replace(/^\d+\.\s*(.+)/gm,function(t,n){return`<li data-list="ol">${n}</li>`}),e=e.replace(/(<li data-list="ol">[\s\S]+?<\/li>\s*)+/g,function(t){const n=/\n\s*$/.test(t),o=t.trimEnd();return n?`<ol>${o}</ol>
`:`<ol>${o}</ol>`}),e=e.replace(/ data-list="ol"/g,""),e}function g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function x(e){const t=[];return{parsed:e.replace(/```([\s\S]+?)```/g,function(c,a){const r=`<pre><code>${g(a)}</code></pre>`,d=`@@CODE_TOKEN_${t.length}@@`;return t.push(r),d}).replace(/`([\s\S]+?)`/g,function(c,a){const r=`<code>${g(a)}</code>`,d=`@@CODE_TOKEN_${t.length}@@`;return t.push(r),d}),tokens:t}}function B(e,t){return e.replace(/@@CODE_TOKEN_(\d+)@@/g,function(n,o){return t[Number(o)]??n})}function $(e){return e.replace(/^>\s*(.+)/gm,function(t,n){return`<blockquote>${n}</blockquote>`})}function T(e){return e.replace(/\[(.+?)\]\((.+?)\)/g,function(t,n,o){return`<a href="${o}" target="_blank">${n}</a>`})}function M(e){return e.replace(/!\[(.+?)\]\((.+?)\)/g,function(t,n,o){return`<img src="${o}" alt="${n}">`})}function _(e){return e.replace(/^-{3,}$/gm,function(t){return"<hr>"})}function A(e){return e.split(`
`).map(function(t){return t===""||/^\s*@@CODE_TOKEN_\d+@@\s*$/.test(t)||t.startsWith("<")?t:`<p>${t}</p>`}).join(`
`)}function l(e){const{parsed:t,tokens:n}=x(e);let o=g(t);return o=E(o),o=k(o),o=L(o),o=I(o),o=S(o),o=$(o),o=M(o),o=T(o),o=_(o),o=A(o),o=B(o,n),o}function m(e){const t=document.getElementById("preview");t.innerHTML=e}function q(){const e=document.querySelector(".sidebar"),t=document.querySelector(".app-header__menu-button");if(!e||!t)return;function n(){const c=N();e.classList.toggle("sidebar--open",c)}t.addEventListener("click",n),document.getElementById("document-items").addEventListener("click",c=>{const a=c.target.closest(".document-item");if(!a)return;const s=a.id,r=i.documents.find(d=>d.id===s);D(r),f()})}function f(){const e=document.getElementById("document-items");if(!e)return;const n=i.documents.map(o=>{const c=i.currentDocumentId===o.id,a=(o.updatedAt||"").replace(" "," â€¢ "),s=o.name||"untitled.md";return`<button class="document-item${c?" document-item--active":""}" type="button" id ="${o.id}" data-document-name ="${s}">
                <img class="document-item-icon" src="/Mark-UpApp/assets/icon-document.svg" alt="" />
                <div class="document-info">
                  <p class="document-date">
                    <span class="document-date-label">Updated</span>
                    <span class="document-date-value">${a}</span>
                  </p>
                  <p class="document-name">${s}</p>
                </div>
              </button>`});e.innerHTML=n.join("")}function h(){localStorage.setItem("markdown-editor",JSON.stringify({documents:i.documents,currentDocumentId:i.currentDocumentId}))}function O(){return JSON.parse(localStorage.getItem("markdown-editor"))}const i={theme:"light",sidebarOpen:!1,display:"split",currentDocumentId:"doc_1",documents:[{id:"doc_1",name:"welcome.md",content:"",updatedAt:new Date().toLocaleDateString("en-GB")+" "+new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),isDirty:!1}]};function v(e){if(i.theme!==e)return i.theme=e,i.theme}function N(){return i.sidebarOpen=!i.sidebarOpen,i.sidebarOpen}function y(e){i.display=e}function C(){const e=document.getElementById("document-name").value,t=document.getElementById("textarea").value,n=i.documents.find(o=>o.id===i.currentDocumentId);if(n)n.name=e,n.content=t,n.updatedAt=new Date().toLocaleDateString("en-GB")+" "+new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),n.isDirty=!1;else{const o={id:crypto.randomUUID(),name:e,content:t,updatedAt:new Date().toLocaleDateString("en-GB")+" "+new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),isDirty:!1};i.currentDocumentId=o.id,i.documents.push(o)}h(),f()}function U(){const e=document.getElementById("document-name"),t={id:crypto.randomUUID(),name:"",content:"",updatedAt:new Date().toLocaleDateString("en-GB")+" "+new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),isDirty:!1},n=document.getElementById("textarea");n.value="",i.currentDocumentId=t.id,i.documents.push(t),e.value="",m(l("")),h(),f()}function P(){i.documents=i.documents.filter(e=>e.id!==i.currentDocumentId),i.documents.length>0?D(i.documents[0]):(i.currentDocumentId=null,document.getElementById("textarea").value="",document.getElementById("document-name").value="",m(l(""))),h(),f()}function D(e){const t=document.getElementById("textarea"),n=document.getElementById("document-name");t.value=e.content,n.value=e.name,i.currentDocumentId=e.id,m(l(e.content))}async function G(){const e=document.getElementById("textarea"),t=document.getElementById("document-name");if(!e)return;async function n(){try{return(await(await fetch("/Mark-UpApp/data.json")).json())?.[1]?.content??""}catch(r){return console.error(r),""}}function o(){return i.documents.find(r=>r.id===i.currentDocumentId)??i.documents[0]??null}const c=o();if(!c)return;let a=c.content??"";a||(a=await n(),c.content=a),e.value=a,t&&(t.value=c.name??""),m(l(a));function s(){const r=o();r&&(r.isDirty=!0)}e.addEventListener("input",()=>{const r=e.value,d=l(r);m(d);const u=o();u&&(u.content=r,s())}),t&&t.addEventListener("input",()=>{const r=o();r&&(r.name=t.value,s())}),window.addEventListener("beforeunload",r=>{i.documents.some(u=>u.isDirty)&&(r.preventDefault(),r.returnValue="")})}function H(){const e=document.querySelector(".theme-toggle-input");if(!e)return;const t=document.documentElement;let n;function o(a,s=!1){s&&t.classList.add("theme-switching"),a==="light"?t.setAttribute("data-theme","light"):t.removeAttribute("data-theme"),s&&(window.clearTimeout(n),n=window.setTimeout(()=>{t.classList.remove("theme-switching")},220))}const c=e.checked?"light":"dark";v(c),o(c),e.addEventListener("change",()=>{const a=e.checked?"light":"dark";v(a),o(a,!0)})}function j(e,t){const n=e.value.substring(0,e.selectionStart),o=e.value.substring(e.selectionStart,e.selectionEnd),c=e.value.substring(e.selectionEnd),s={bold:{type:"inline",prefix:"**",suffix:"**",placeholder:"bold text"},italic:{type:"inline",prefix:"*",suffix:"*",placeholder:"italic text"},code:{type:"inline",prefix:"`",suffix:"`",placeholder:"code"},strikethrough:{type:"inline",prefix:"~~",suffix:"~~",placeholder:"struck text"},link:{type:"inline",prefix:"[",suffix:"](url)",placeholder:"link text"},image:{type:"inline",prefix:"![",suffix:"](url)",placeholder:"alt text"},h1:{type:"block",prefix:"# ",placeholder:"Heading 1"},h2:{type:"block",prefix:"## ",placeholder:"Heading 2"},h3:{type:"block",prefix:"### ",placeholder:"Heading 3"},quote:{type:"block",prefix:"> ",placeholder:"Blockquote"},ul:{type:"block",prefix:"- ",placeholder:"List item"},ol:{type:"block",prefix:"1. ",placeholder:"List item"},hr:{type:"block",prefix:`
---
`,placeholder:""}}[t];if(!s)return;const r=o||s.placeholder;if(s.type==="inline"){const u=s.prefix+r+s.suffix;e.value=n+u+c}else{const u=s.prefix+r;e.value=n+u+c}const d=l(e.value);m(d)}function R(){const e=document.getElementById("textarea");document.querySelectorAll(".toolbar-btn").forEach(n=>{n.addEventListener("click",()=>{j(e,n.dataset.action)})})}function w(e){const t=document.querySelector(".textarea-container"),n=document.querySelector(".preview-container");e&&(t.classList.add("hidden"),n.classList.add("hidden"),e==="editor"?t.classList.remove("hidden"):(e==="preview"||t.classList.remove("hidden"),n.classList.remove("hidden")))}function K(){const e=document.querySelectorAll("[data-view-control]"),t=document.querySelectorAll("[data-view-toggle]");e.forEach(n=>{n.addEventListener("click",()=>{const o=n.dataset.action;y(o),w(o),e.forEach(c=>c.classList.remove("quick-btn--active")),n.classList.add("quick-btn--active")})}),t.forEach(n=>{n.addEventListener("click",()=>{const o=i.display,c=n.dataset.action,a=o==="split"?c:"split";y(a),w(a)})})}function p(e,t){const n=`
     <li
          role="status"
          aria-live="off"
          aria-atomic="true"
          tabindex="0"
          data-state="open"
          data-swipe-direction="right"
          class="app-toast"
          data-radix-collection-item=""
        >
          <div class="app-toast__body">
            <p class="app-toast__title">${e} !</p>
            <p class="app-toast__message">${t}</p>
          </div>
          <button
            type="button"
            class="app-toast__close"
            toast-close=""
            data-radix-toast-announce-exclude=""
            aria-label="Dismiss notification"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="app-toast__close-icon"
            >
              <path d="M18 6 6 18"></path>
              <path d="m6 6 12 12"></path>
            </svg>
          </button>
        </li>`,o=document.querySelector(".app-toast-stack");o.insertAdjacentHTML("beforeend",n);const c=o.lastElementChild;c.querySelector(".app-toast__close").addEventListener("click",()=>{c.classList.add("app-toast--exit"),c.addEventListener("animationend",()=>c.remove())}),setTimeout(()=>{c.classList.add("app-toast--exit"),c.addEventListener("animationend",()=>c.remove())},3e3)}function F(e){const t=document.getElementById(e),n=i.documents.find(c=>c.id===i.currentDocumentId),o=document.getElementById("modal-doc-name");o&&n&&(o.textContent=n.name||"untitled.md"),t&&typeof t.showModal=="function"&&t.showModal()}function b(e){const t=document.getElementById(e);if(!t)return;const n=t.tagName==="DIALOG"?t:t.closest("dialog");n&&typeof n.close=="function"&&n.close()}async function V(){const e=document.getElementById("textarea").value;try{await navigator.clipboard.writeText(e),p("Copied","Markdown copied to clipboard !")}catch(t){console.log(t)}}function J(){document.querySelectorAll("[data-quick-action], .modal [data-action]").forEach(t=>{const n=t.dataset.quickAction||t.dataset.action;t.addEventListener("click",()=>{n==="copy"&&V(),n==="download"&&Q(),n==="save"&&(C(),p("Saved","File has been saved !")),n==="new-document"&&(U(),p("New Document","New document created !")),n==="delete"&&F("delete-modal"),n==="cancel"&&b("cancel"),n==="delete-document"&&(P(),p("Deleted","Document has been deleted !"),b("delete-modal"))})})}function Q(){const e=document.getElementById("textarea").value,t=document.getElementById("document-name").value,n=new Blob([e],{type:"text/markdown"}),o=URL.createObjectURL(n),c=document.createElement("a");c.href=o,c.download=t,c.click(),p("Downloaded","Markdown file saved !"),URL.revokeObjectURL(o)}function z(){const e=O();e&&(i.currentDocumentId=e.currentDocumentId,i.documents=e.documents)}z();function W(){const e=document.querySelector(".app-header__quick-actions");if(!e)return;const t=window.matchMedia("(min-width: 768px)"),n=()=>{if(t.matches){e.setAttribute("open","");return}e.removeAttribute("open")};n(),typeof t.addEventListener=="function"?t.addEventListener("change",n):t.addListener(n)}q();H();G();W();R();K();J();f();
//# sourceMappingURL=index-BR7ejN3x.js.map
